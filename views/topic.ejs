<%- include('partials/header', { pageTitle: formatTopic(topic) }) %>

    <section class="page-header">
        <h1>
            <%= formatTopic(topic) %>
        </h1>
        <p class="page-sub">All posts about <%= formatTopic(topic) %>
        </p>
    </section>

    <% if (posts.length===0) { %>
        <div class="empty-state">
            <p>No posts in this topic yet. Check back soon!</p>
        </div>
        <% } else { %>
            <div class="post-list">
                <% posts.forEach(function(post) { %>
                    <article class="post-card post-card-horizontal">
                        <div class="post-card-body">
                            <h3><a href="/post/<%= post.slug %>">
                                    <%= post.title %>
                                </a></h3>
                            <p class="post-excerpt">
                                <%= post.excerpt || post.content.substring(0, 200) + '...' %>
                            </p>
                            <time class="post-date">
                                <%= new Date(post.created_at).toLocaleDateString('en-GB', { day: 'numeric' ,
                                    month: 'long' , year: 'numeric' }) %>
                            </time>
                        </div>
                    </article>
                    <% }); %>
            </div>
            <% } %>

                <%- include('partials/footer') %>